{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\SOUMIT SAHA\\\\Programe Career\\\\Web Design\\\\Projects\\\\Google Classroom\\\\classroom-clone\\\\src\\\\components\\\\Main\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport { Avatar, Button, TextField } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport db, { storage } from \"../../lib/firebase\";\nimport \"./style.css\";\nimport firebase from \"firebase\";\nimport { useLocalContext } from \"../../context/context\";\nimport { Announcment } from \"..\";\n\nconst Main = ({\n  classData\n}) => {\n  _s();\n\n  const {\n    loggedInMail\n  } = useLocalContext();\n  const [showInput, setShowInput] = useState(false);\n  const [inputValue, setInput] = useState(\"\");\n  const [image, setImage] = useState(null);\n\n  const handleChange = e => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    const uploadImage = storage.ref(`images/${image.name}`).put(image);\n    uploadImage.on(\"state_changed\", () => {\n      storage.ref(\"images\").child(image.name).getDownloadURL().then(url => {\n        db.collection(\"announcments\").doc(\"classes\").collection(classData.id).add({\n          timstamp: firebase.firestore.FieldValue.serverTimestamp(),\n          imageUrl: url,\n          text: inputValue,\n          sender: loggedInMail\n        });\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main__wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main__content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__wrapper1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main__bgImage\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main__emptyStyles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main__text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"main__heading main__overflow\",\n              children: classData.className\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main__section main__overflow\",\n              children: classData.section\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main__wrapper2\",\n              children: [/*#__PURE__*/_jsxDEV(\"em\", {\n                className: \"main__code\",\n                children: \"Class Code :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"main__id\",\n                children: classData.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main__announce\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__status\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Upcoming\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"main__subText\",\n            children: \"No work due\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__announcements\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main__announcementsWrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main__ancContent\",\n              children: showInput ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"main__form\",\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"filled-multiline-flexible\",\n                  multiline: true,\n                  label: \"Announce Something to class\",\n                  variant: \"filled\",\n                  value: inputValue,\n                  onChange: e => setInput(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"main__buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    onChange: handleChange,\n                    variant: \"outlined\",\n                    color: \"primary\",\n                    type: \"file\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => setShowInput(false),\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleUpload,\n                      color: \"primary\",\n                      variant: \"contained\",\n                      children: \"Post\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"main__wrapper100\",\n                onClick: () => setShowInput(true),\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"Announce Something to class\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Announcment, {\n            classData: classData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Main, \"dPa5Sp6GwR71PUkSEBI1MuVTEUs=\", false, function () {\n  return [useLocalContext];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["F:/SOUMIT SAHA/Programe Career/Web Design/Projects/Google Classroom/classroom-clone/src/components/Main/Main.js"],"names":["Avatar","Button","TextField","React","useState","db","storage","firebase","useLocalContext","Announcment","Main","classData","loggedInMail","showInput","setShowInput","inputValue","setInput","image","setImage","handleChange","e","target","files","handleUpload","uploadImage","ref","name","put","on","child","getDownloadURL","then","url","collection","doc","id","add","timstamp","firestore","FieldValue","serverTimestamp","imageUrl","text","sender","className","section","value"],"mappings":"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","sourcesContent":["import { Avatar, Button, TextField } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport db, { storage } from \"../../lib/firebase\";\r\nimport \"./style.css\";\r\nimport firebase from \"firebase\";\r\nimport { useLocalContext } from \"../../context/context\";\r\nimport { Announcment } from \"..\";\r\nconst Main = ({ classData }) => {\r\n  const { loggedInMail } = useLocalContext();\r\n\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [inputValue, setInput] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.files[0]) {\r\n      setImage(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleUpload = () => {\r\n    const uploadImage = storage.ref(`images/${image.name}`).put(image);\r\n\r\n    uploadImage.on(\"state_changed\", () => {\r\n      storage\r\n        .ref(\"images\")\r\n        .child(image.name)\r\n        .getDownloadURL()\r\n        .then((url) => {\r\n          db.collection(\"announcments\")\r\n            .doc(\"classes\")\r\n            .collection(classData.id)\r\n            .add({\r\n              timstamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n              imageUrl: url,\r\n              text: inputValue,\r\n              sender: loggedInMail,\r\n            });\r\n        });\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"main\">\r\n      <div className=\"main__wrapper\">\r\n        <div className=\"main__content\">\r\n          <div className=\"main__wrapper1\">\r\n            <div className=\"main__bgImage\">\r\n              <div className=\"main__emptyStyles\" />\r\n            </div>\r\n            <div className=\"main__text\">\r\n              <h1 className=\"main__heading main__overflow\">\r\n                {classData.className}\r\n              </h1>\r\n              <div className=\"main__section main__overflow\">\r\n                {classData.section}\r\n              </div>\r\n              <div className=\"main__wrapper2\">\r\n                <em className=\"main__code\">Class Code :</em>\r\n                <div className=\"main__id\">{classData.id}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"main__announce\">\r\n          <div className=\"main__status\">\r\n            <p>Upcoming</p>\r\n            <p className=\"main__subText\">No work due</p>\r\n          </div>\r\n          <div className=\"main__announcements\">\r\n            <div className=\"main__announcementsWrapper\">\r\n              <div className=\"main__ancContent\">\r\n                {showInput ? (\r\n                  <div className=\"main__form\">\r\n                    <TextField\r\n                      id=\"filled-multiline-flexible\"\r\n                      multiline\r\n                      label=\"Announce Something to class\"\r\n                      variant=\"filled\"\r\n                      value={inputValue}\r\n                      onChange={(e) => setInput(e.target.value)}\r\n                    />\r\n                    <div className=\"main__buttons\">\r\n                      <input\r\n                        onChange={handleChange}\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        type=\"file\"\r\n                      />\r\n\r\n                      <div>\r\n                        <Button onClick={() => setShowInput(false)}>\r\n                          Cancel\r\n                        </Button>\r\n\r\n                        <Button\r\n                          onClick={handleUpload}\r\n                          color=\"primary\"\r\n                          variant=\"contained\"\r\n                        >\r\n                          Post\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div\r\n                    className=\"main__wrapper100\"\r\n                    onClick={() => setShowInput(true)}\r\n                  >\r\n                    <Avatar />\r\n                    <div>Announce Something to class</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <Announcment classData={classData} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}